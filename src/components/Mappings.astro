---
interface Props {
  title: string;
  body: string;
  sourceName: string;
  destName: string;
  href: string;
  id: number;
  isEnabled: boolean;
}

const { href, title, body, sourceName, destName, id, isEnabled } = Astro.props;
---

<!-- <form action="POST"> -->
<div class="card w-96 bg-primary text-primary-content" id=`delet${id}`>
  <div class="card-body">
    <h2 class="card-title">
      <!-- <input type="checkbox" class="toggle" checked={isEnabled} /> -->
      <!-- #REF: astro if else -->
      {
        () => {
          if (isEnabled) {
            return <input type="checkbox" class="toggle" checked />;
          } else {
            return <input type="checkbox" class="toggle" unchecked />;
          }
        }
      }
      {title}
      <!-- <input type="checkbox" class="toggle" checked /> -->
    </h2>
    <a href={href}>
      <p>

        <div class="chat chat-start">
          <div class="chat-bubble chat-bubble-accent">Mapped source sheet <span class="font-semibold">{sourceName}</span></div>
        </div>
        <div class="chat chat-end">
          <div class="chat-bubble chat-bubble-info">to destination sheet <span class="font-semibold">{destName}</span></div>
        </div>

      </p>
    </a>
    <div class="card-actions justify-end">
    <button class="btn">Edit</button>

    <button
      name="deleteSheetMapping"
      value={id}
      class="btn btn-error"
      hx-target=`#delet${id}`
      hx-delete="/api/htmxdeletesheetmapping"
      hx-swap="outerHTML swap:1s"
    >
      Delete me
    </button>
  </div>
  </div>
</div>
<!-- </form> -->

<!-- #REF htmx swapping effect -->
<style>
  div.htmx-swapping {
    opacity: 0;
    transition: opacity 1s ease-out;
  }

  div.content-leaving {
    opacity: 0;
    transition: opacity 1s ease-out;
  }
</style>
